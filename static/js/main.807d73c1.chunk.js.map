{"version":3,"sources":["images/burger.svg","images/close_burger.svg","components/Header.js","components/DeleteCardButton.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success_true.svg","images/success_false.svg","components/InfoTooltip .js","components/PlaceRemoveConfirmation.js","components/ImagePopup.js","components/Footer.js","utils/auth.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","isLogged","onLogout","useState","menuOpened","setMenuOpened","handleMenuClick","e","headerNav","menu","menuItem","headerLogo","burgerOpen","burgerClose","className","path","to","onClick","src","burgerOpenImg","alt","burgerCloseImg","DeleteCardButton","props","isOwn","type","handleDelete","CurrentUserContext","React","createContext","Card","currentUser","useContext","card","owner","_id","cardLikeButtonClassName","likes","some","i","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","cards","map","handleCardLike","handleCardDelete","PopupWithForm","isOpen","title","onSubmit","noValidate","children","onClose","EditProfilePopup","setName","description","setDescription","useEffect","preventDefault","onUpdateUser","value","onChange","target","id","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","setLink","Login","onLogin","initialData","password","data","setData","handleChange","resetForm","then","autoComplete","Register","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","success","successIcon","faildIcon","PlaceRemoveConfirmation","ImagePopup","Footer","BASE_URL","responseCheck","response","ok","json","Promise","reject","status","api","baseUrl","headers","this","_baseUrl","_headers","res","url","fetch","method","_checkStatus","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","setSuccess","setLoggedIn","setEmail","selectedCard","setSelectedCard","setCurrentUser","setCards","history","useHistory","authCheck","useCallback","jwt","localStorage","getItem","auth","push","catch","closeAllPopups","getInitialCards","initialCards","err","console","log","getUserInfo","initialUser","Provider","removeItem","token","setItem","event","removeLike","addLike","newCard","newCards","c","removeCard","filter","userData","setUserProfile","newUser","setAvatar","cardData","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.807d73c1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/burger.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/close_burger.3c2485ff.svg\";","import React, {useState} from 'react';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\n\r\nimport burgerOpenImg from '../images/burger.svg';\r\nimport burgerCloseImg from '../images/close_burger.svg';\r\n\r\nfunction Header({email, isLogged, onLogout}) {\r\n\r\n  const [menuOpened, setMenuOpened] = useState(false);\r\n\r\n  const handleMenuClick = function(e) {\r\n    setMenuOpened(!menuOpened);\r\n  }\r\n\r\n  const headerNav = menuOpened ? 'header__nav header__nav_active' : 'header__nav';\r\n  const menu = menuOpened ? 'menu menu_active' : 'menu';\r\n  const menuItem = menuOpened ? 'menu__item menu__item_active' : 'menu__item';\r\n  const headerLogo = menuOpened ? 'header__logo header__logo_active' : 'header__logo';\r\n  const burgerOpen = menuOpened ? 'header__burger' : 'header__burger header__burger_active';\r\n  const burgerClose = menuOpened ? 'header__burger header__burger_active' : 'header__burger';\r\n\r\n  const handleLogoutClick = function() {\r\n    setMenuOpened(false);\r\n    onLogout();\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className={headerLogo}></div>\r\n      <nav className={isLogged ? headerNav : '' }>\r\n        <ul className={menu}>\r\n          <Switch>\r\n            <Route path=\"/sign-up\">\r\n              <li className=\"menu__item\"><Link className=\"menu__link\" to=\"sign-in\">Войти</Link></li>\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <li className=\"menu__item\"><Link className=\"menu__link\" to=\"sign-up\">Регистрация</Link></li>\r\n            </Route>\r\n            {isLogged \r\n              ? <><li className={menuItem}>{email}</li><li className={menuItem}><span className=\"menu__link\" onClick={handleLogoutClick}>Выйти</span></li></>\r\n              : ''}              \r\n          </Switch>\r\n        </ul>\r\n      </nav>\r\n      <Route path=\"/cards\">\r\n        <button className={burgerOpen} onClick={handleMenuClick}><img src={burgerOpenImg} alt=\"Бургер\" /></button>\r\n        <button className={burgerClose} onClick={handleMenuClick}><img src={burgerCloseImg} alt=\"Бургер\" /></button>\r\n      </Route>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction DeleteCardButton(props) {\r\n  if (props.isOwn) {\r\n    return (\r\n      <button className=\"element__delete\" type=\"button\" onClick={props.handleDelete}></button> \r\n    )\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default DeleteCardButton;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, {useContext} from 'react';\r\nimport DeleteCardButton from './DeleteCardButton';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = isLiked ? 'element__like element__like_active' : 'element__like'; \r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLike() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  \r\n  return (\r\n    <article className=\"element\">\r\n      <DeleteCardButton isOwn={isOwn} handleDelete={handleDelete}/>                  \r\n      <img src={props.card.link} alt={props.card.name} className=\"element__image\" onClick={handleClick} />\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__likes\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLike}></button>\r\n          <span className=\"element__likes-amount\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React, {useContext} from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main page__main\">\r\n      <section className=\"profile main__profile\">\r\n        <div className=\"profile__avatar\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} >\r\n          <div className=\"profile__overlay\"></div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__status\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => {\r\n        return (\r\n            <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.handleCardLike} onCardDelete={props.handleCardDelete} />\r\n          )\r\n        })}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup__container_theme_edit-form\">\r\n        <h2 className=\"popup__title\">{`${props.title}`}</h2>\r\n        <form className=\"form form_place\" name={`${props.name}`}  onSubmit={props.onSubmit} noValidate>\r\n          {props.children}\r\n        </form>\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React, {useState, useContext, useEffect} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Редактировать профиль\" name=\"profile-edit\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input value={name || ''} onChange={handleNameChange} id=\"profile-name\" type=\"text\" className=\"form__item form__item_el_name\" name=\"profile-name\" required minLength=\"2\" maxLength=\"40\" />\r\n      <span id=\"profile-name-error\" className=\"form__item-error\"></span>\r\n      <input value={description || ''} onChange={handleDescriptionChange} id=\"profile-status\" type=\"text\" className=\"form__item form__item_el_status\" name=\"profile-status\" required minLength=\"2\" maxLength=\"200\" />\r\n      <span id=\"profile-status-error\" className=\"form__item-error\"></span>\r\n      <button className=\"popup__button\" type=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React, {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Обновить аватар\" name=\"avatar-edit\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input ref={avatarRef} id=\"avatar-link\" type=\"url\" className=\"form__item form__item_el_status\" name=\"avatar-link\" placeholder=\"Ссылка на картинку\" required />\r\n      <span id=\"avatar-link-error\" className=\"form__item-error\"></span>\r\n      <button className=\"popup__button\" type=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, {useState} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props){\r\n\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm title=\"Новое место\" name=\"place-add\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"place-name\" onChange={handleNameChange} type=\"text\" className=\"form__item form__item_el_name\" name=\"place-name\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" />\r\n      <span id=\"place-name-error\" className=\"form__item-error\"></span>\r\n      <input id=\"place-link\" onChange={handleLinkChange} type=\"url\" className=\"form__item form__item_el_status\" name=\"place-link\" placeholder=\"Ссылка на картинку\" required />\r\n      <span id=\"place-link-error\" className=\"form__item-error\"></span>\r\n      <button className=\"popup__button\" type=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React, { useState } from 'react';\r\n\r\nfunction Login({ onLogin }) {  \r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n  const [data, setData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData(data => ({\r\n      ...data,\r\n      [name]: value,\r\n    }));\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setData(initialData);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!data.email || !data.password) {\r\n      return;\r\n    }\r\n\r\n    onLogin(data)\r\n      .then(resetForm)      \r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form onSubmit={handleSubmit} className=\"form form_theme_dark\" autoComplete=\"off\">\r\n        <input id=\"email\" name=\"email\" type=\"email\" value={data.email} onChange={handleChange} className=\"form__item form__item_theme_dark\" placeholder=\"Email\" />\r\n        <input id=\"password\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} className=\"form__item form__item_theme_dark\" placeholder=\"Пароль\" />\r\n        <button type=\"submit\" className=\"form__button\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ onRegister }) {\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  };\r\n  const [data, setData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData(data => ({\r\n      ...data,\r\n      [name]: value,\r\n    }));\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setData(initialData);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!data.email || !data.password) {\r\n      return;\r\n    }\r\n\r\n    onRegister(data)\r\n      .then(resetForm);\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form onSubmit={handleSubmit} className=\"form form_theme_dark\" autoComplete=\"off\">\r\n        <input id=\"email\" name=\"email\" type=\"email\" value={data.email} onChange={handleChange} className=\"form__item form__item form__item_theme_dark\" placeholder=\"Email\" />\r\n        <input id=\"password\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} className=\"form__item form__item form__item_theme_dark\" placeholder=\"Пароль\" />\r\n        <button type=\"submit\" className=\"form__button\">Зарегистрироваться</button>\r\n      </form>\r\n      <p className=\"auth__alternate\">Уже регистрировались? <Link className=\"auth__link\" to=\"/sign-in\">Войти</Link></p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success_true.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/success_false.df8eddf6.svg\";","import React from 'react';\r\n\r\nimport successIcon from '../images/success_true.svg';\r\nimport faildIcon from '../images/success_false.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <section className={`popup popup_tooltip ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup__container_theme_tooltip\">     \r\n        <div className=\"tooltip\">\r\n          <img src={props.success ? successIcon : faildIcon} alt={'Результат регистрации'} className=\"tooltip__image\" />\r\n          <p className=\"tooltip__description\">\r\n            {props.success\r\n              ? 'Вы успешно зарегистрировались!' \r\n              : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n          </p>\r\n        </div> \r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\n\r\nfunction PlaceRemoveConfirmation(props) {\r\n  return (\r\n    <button className=\"popup__button\" type=\"button\">Да</button>\r\n  );\r\n}\r\n\r\nexport default PlaceRemoveConfirmation;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return(\r\n    <section className={`popup popup_lightbox ${props.card ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup__container_theme_lightbox\">     \r\n        <div className=\"lightbox\">\r\n          <img src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : ''} className=\"lightbox__image\" />\r\n          <p className=\"lightbox__title\">{props.card ? props.card.name : ''}</p>\r\n        </div> \r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(responseCheck)\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n    .then(responseCheck)\r\n};\r\n\r\nexport const checkToken  = (jwt) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${jwt}`,\r\n    }\r\n  })\r\n    .then(responseCheck)\r\n}\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    const url = this._baseUrl+'/users/me';\r\n    return fetch(url, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    const url = this._baseUrl+'/cards';\r\n    return fetch(url, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  setUserProfile(name, status) {\r\n    const url = this._baseUrl+'/users/me';\r\n    return fetch(url, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: status,\r\n      }),\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  addCard(name, link) {\r\n    const url = this._baseUrl+'/cards';\r\n    return fetch(url, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    const url = `${this._baseUrl}/cards/${cardId}`;\r\n    return fetch(url, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  addLike(cardId) {\r\n    const url = `${this._baseUrl}/cards/likes/${cardId}`;\r\n    return fetch(url, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    const url = `${this._baseUrl}/cards/likes/${cardId}`;\r\n    return fetch(url, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n\r\n  setAvatar(link) {\r\n    const url = this._baseUrl+'/users/me/avatar';\r\n    return fetch(url, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    })\r\n    .then(res => {\r\n      return this._checkStatus(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  headers: {\r\n    authorization: '3cf94fea-bd08-4b5d-9ccb-283ecc1d9d83',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React, {useState, useEffect, useCallback} from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip ';\nimport PlaceRemoveConfirmation from './PlaceRemoveConfirmation';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Footer from './Footer';\nimport * as auth from '../utils/auth';\n\nimport api from \"../utils/api\";\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const history = useHistory();\n\n  const authCheck = useCallback(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setEmail(res.data.email)\n            history.push('/cards');\n          }\n        })\n        .catch(() => history.push('/sign-in'));\n    }\n  }, [history])\n\n  useEffect(() => {\n    authCheck();\n  }, [])\n\n  const handleLogin = ({ email, password }) => {\n    return auth.login(email, password)\n      .then(res => {      \n        if (res.token) {\n          setEmail(email);\n          setLoggedIn(true);\n          localStorage.setItem('jwt', res.token);\n          history.push('/cards');\n        };\n      })\n      .catch(res => {\n        console.log(res);      \n      })\n  }\n\n  const handleRegister = ({ email, password }) => {\n    return auth.register(email, password)\n      .then(res => { \n        setSuccess(true);\n        setInfoTooltipPopupOpen(true);\n        history.push('/sign-in');\n        return res;\n      })\n      .catch(res => {\n        setInfoTooltipPopupOpen(true);\n        console.log(res);      \n      })\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('jwt');\n    setEmail('');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then((initialCards) => {\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    const likeRequest = !isLiked ? api.addLike(card._id) : api.removeLike(card._id);\n    likeRequest\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      }).catch((err) => {\n        console.log(err);\n      });    \n  } \n\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => !(c._id === card._id));\n      setCards(newCards);\n    }).catch((err) => {\n      console.log(err);\n    });    \n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((initialUser) => {\n        setCurrentUser(initialUser);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n  }, []);\n       \n  function handleEditProfileClick(event) {\n    setEditProfilePopupOpen(true);\n  }\n  \n  function handleAddPlaceClick(event) {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick(event) {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {    \n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setInfoTooltipPopupOpen(false);\n  }\n\n  function handleUpdateUser(userData) {\n    api.setUserProfile(userData.name, userData.about)\n    .then((newUser) => {      \n      setCurrentUser(newUser);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(link) {\n    api.setAvatar(link.avatar)\n    .then((newUser) => {      \n      setCurrentUser(newUser);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlace(cardData) {\n    api.addCard(cardData.name, cardData.link)\n    .then((newCard) => {      \n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">          \n          <Header email={email} isLogged={loggedIn} onLogout={handleLogout}/>\n          <Switch>            \n            <Route path=\"/sign-up\">              \n              <Register onRegister={handleRegister} />\n            </Route>\n            <Route path=\"/sign-in\">              \n              <Login onLogin={handleLogin} />\n            </Route>\n            <ProtectedRoute \n              path=\"/cards\" \n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick} \n              onAddPlace={handleAddPlaceClick} \n              onEditAvatar={handleEditAvatarClick} \n              onCardClick={handleCardClick} \n              cards={cards} \n              handleCardLike={handleCardLike} \n              handleCardDelete={handleCardDelete}>              \n            </ProtectedRoute>\n            <Route>\n              {loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n          <Footer />\n        </div>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />  \n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace}/> \n        <PopupWithForm title=\"Вы уверены?\" name=\"place-remove\">\n          <PlaceRemoveConfirmation />\n        </PopupWithForm>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} success={success}/>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}